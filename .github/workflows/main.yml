name: Commit After File Push
on:
  push:
     branches: ["master"]

jobs:
  commit:
    runs-on: windows-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v2.3.4

      - name: Configure Git
        run: |
          git config user.name "Mounik05"
          git config user.email "kallepallimounika333@gmail.com"

      - name: Determine if the file is modified
        id: file_changed
        run: |
          if (git diff --name-only HEAD~1 | findstr /C:"D:\a\TestApp_new\TestApp_new\file1.txt") (
            echo "::set-output name=changed::true"
          ) else (
            echo "::set-output name=changed::false"
          )

      - name: Commit changes
        if: steps.file_changed.outputs.changed == 'true'
        run: |
          git add D:\a\TestApp_new\TestApp_new\file1.txt
          git commit -m "Committing changes to file1.txt"
          git push
